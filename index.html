<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Area 51</title>
    <link rel="stylesheet" href="./css/styles.css">
    <link rel="stylesheet" type="text/css" href="./node_modules/angular-material/angular-material.min.css">
    <link rel="stylesheet" type="text/css" href="./fonts/font-awesome-4.7.0/css/font-awesome.min.css">
</head>
<body>
	<nav id="menu">
		<ul>
			<li class="active" onclick="callPage('home', this);"><a href="#">Home</a></li>
			<li onclick="callPage('musics', this);"><a href="#">Musics</a></li>
			<li onclick="callPage('playlists', this);"><a href="#">Playlist</a></li>
		</ul>
	</nav>
	<div class="content" ng-app="myApp">
		<div class="container" ng-include="'pages/home.html'">

		</div>
	</div>

	<!-- Angular Material requires Angular.js Libraries -->
	 <script src="./node_modules/angular/angular.min.js"></script>
	 <script src="./node_modules/angular-animate/angular-animate.min.js"></script>
	 <script src="./node_modules/angular-aria/angular-aria.min.js"></script>
	 <!-- <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular-messages.min.js"></script> -->

	 <!-- Angular Material Library -->
	 <script src="./node_modules/angular-material/angular-material.min.js"></script>

	<script>window.$ = window.jQuery = require('./js/jquery.min.js');</script>
	<script type="text/javascript" src='./js/functions.js'></script>
	<script type="text/javascript">
		initDatabase();
	</script>
	<script type="text/javascript" src="./js/classes.js"></script>
	<script src="./js/music-controller.js" type='text/javascript'></script>
	<script type="text/javascript">
		function callPage(page, active ) {
			if (active) {
				$("#menu li.active").removeClass("active");
				$(active).addClass('active');
			}

			var file = "pages/" + page + ".html";
			$.get(file, function(data) {
			    // Get the $compile service from the app's injector
			    var injector = $('[ng-app]').injector();
			    var $compile = injector.get('$compile');

			    // Compile the HTML into a linking function...
			    var linkFn = $compile(data);
			    // ...and link it to the scope we're interested in.
			    // Here we'll use the $rootScope.
			    var $rootScope = injector.get('$rootScope');
			    var elem = linkFn($rootScope);
			    $('.content .container').text("");
			    $('.content .container').append(elem);

			    // Now that the content has been compiled, linked,
			    // and added to the DOM, we must trigger a digest cycle
			    // on the scope we used in order to update bindings.
			    $rootScope.$digest();

			  }, 'html');
		}
	</script>
</body>
</html>

